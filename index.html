<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy New Year 2026 ‚Äì Anh v·∫´n ch·ªù em</title>

    <style>
        :root {
            --pink: #ffd1dc;
            --pink2: #ff7aa8;
            --bg: #12070f;
            --text: #fff7fb;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            margin: 0;
            height: 100%;
            font-family: "Segoe UI", system-ui, sans-serif;
            background:
                radial-gradient(circle at top, rgba(255, 122, 168, .35), transparent 60%),
                radial-gradient(circle at bottom, rgba(255, 209, 220, .2), transparent 65%),
                linear-gradient(180deg, var(--pink2), var(--bg));
            color: var(--text);
            overflow: hidden;
        }

        /* ===== FIREWORKS ===== */
        #fireworks {
            position: fixed;
            inset: 0;
            z-index: 0;
        }

        /* ===== TITLE ===== */
        .title-fixed {
            position: fixed;
            top: 18px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 6;
            font-size: 36px;
            letter-spacing: 2px;
            font-weight: 700;
            color: #fff;
            text-shadow:
                0 0 14px rgba(255, 209, 220, .95),
                0 0 36px rgba(255, 122, 168, .7),
                0 0 80px rgba(255, 122, 168, .45);
            pointer-events: none;
        }

        @media (max-width: 480px) {
            .title-fixed {
                font-size: 24px;
                top: 12px;
                letter-spacing: 1px;
            }
        }

        /* ===== COVER ===== */
        .cover {
            position: relative;
            z-index: 2;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .cover-box {
            max-width: 460px;
            padding: 46px 38px;
            border-radius: 34px;
            background: rgba(255, 255, 255, .18);
            border: 1px solid rgba(255, 255, 255, .28);
            backdrop-filter: blur(18px);
            box-shadow:
                0 0 80px rgba(255, 209, 220, .25),
                0 30px 120px rgba(255, 122, 168, .55);
        }

        @media (max-width: 480px) {
            .cover-box {
                max-width: 90%;
                padding: 32px 24px;
                border-radius: 24px;
            }
        }

        .cover p {
            opacity: .9;
            line-height: 1.8;
            font-size: 16px;
        }

        @media (max-width: 480px) {
            .cover p {
                font-size: 14px;
                line-height: 1.7;
            }
        }

        .open-btn {
            margin-top: 28px;
            padding: 14px 34px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, .35);
            background: linear-gradient(180deg, #ffb3cd, #ff6f9f);
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            font-size: 16px;
        }

        @media (max-width: 480px) {
            .open-btn {
                padding: 12px 28px;
                font-size: 15px;
                margin-top: 20px;
            }
        }

        /* ===== POPUP ===== */
        .popup {
            position: fixed;
            inset: 0;
            background: rgba(18, 7, 15, .88);
            display: none;
            z-index: 5;
        }

        .popup.active {
            display: flex
        }

        /* ===== STAGE ===== */
        .stage {
            position: relative;
            margin: auto;
            width: 92%;
            max-width: 420px;
            aspect-ratio: 3/4;
            border-radius: 34px;
            overflow: hidden;
        }

        @media (max-width: 480px) {
            .stage {
                width: 94%;
                max-width: 360px;
                border-radius: 24px;
            }
        }

        .stage img {
            width: 110%;
            height: 110%;
            object-fit: cover;
            transform: translate(-5%, -5%);
            animation: float 18s ease-in-out infinite alternate;
        }

        @keyframes float {
            from {
                transform: translate(-5%, -5%) scale(1)
            }

            to {
                transform: translate(-2%, -8%) scale(1.05)
            }
        }

        /* ===== PETALS ===== */
        .petal {
            position: absolute;
            top: -40px;
            font-size: 18px;
            opacity: .65;
            pointer-events: none;
            animation: fall linear infinite;
        }

        @media (max-width: 480px) {
            .petal {
                font-size: 16px;
            }
        }

        @keyframes fall {
            to {
                transform: translateY(120vh) rotate(360deg)
            }
        }

        /* ===== SUBTITLE ===== */
        .subtitle {
            position: absolute;
            left: 50%;
            bottom: 10%;
            transform: translateX(-50%);
            max-width: 88%;
            padding: 14px 18px;
            border-radius: 18px;
            background: rgba(0, 0, 0, .55);
            backdrop-filter: blur(8px);
            font-size: 16px;
            line-height: 1.8;
            text-align: center;
            opacity: 0;
            filter: blur(6px);
            transition: .8s;
        }

        @media (max-width: 480px) {
            .subtitle {
                max-width: 92%;
                padding: 12px 16px;
                font-size: 14px;
                line-height: 1.7;
                border-radius: 14px;
                bottom: 8%;
            }
        }

        @media (max-width: 360px) {
            .subtitle {
                font-size: 13px;
                padding: 10px 14px;
            }
        }

        .subtitle.show {
            opacity: 1;
            filter: blur(0);
            transform: translateX(-50%) scale(1.02);
        }

        .caret {
            display: inline-block;
            width: 2px;
            height: 1em;
            background: #fff;
            margin-left: 4px;
            animation: blink 1s steps(1) infinite;
        }

        @keyframes blink {
            50% {
                opacity: 0
            }
        }

        audio {
            display: none
        }
    </style>
</head>

<body>

    <canvas id="fireworks"></canvas>
    <div class="title-fixed">HAPPY NEW YEAR 2026</div>

    <div class="cover">
        <div class="cover-box">
            <p>
                2025 c√≥ l·∫Ω ƒë√£ l√†m em m·ªát m·ªèi.<br>
                Anh mu·ªën n√≥i v√†i ƒëi·ªÅu‚Ä¶<br>
                theo c√°ch ch·∫≠m r√£i nh·∫•t.
            </p>
            <button class="open-btn" onclick="openCard()">M·ªü th∆∞ üíå</button>
        </div>
    </div>

    <div class="popup" id="popup">
        <div class="stage" id="stage">
            <img src="z7354421744919_031aac0efe54eace25a71493b5154129.jpg">
            <div class="subtitle" id="subtitle">
                <span id="text"></span><span class="caret" id="caret"></span>
            </div>
        </div>
    </div>

    <audio id="musicBg" src="music-bg.mp3" loop></audio>
    <audio id="musicFinal" src="music-final.mp3"></audio>

    <script>
        /* ===== FIREWORKS JS (RESTORED) ===== */
        const fw = document.getElementById("fireworks");
        const ctx = fw.getContext("2d");
        let W, H;
        function resize() { W = fw.width = innerWidth; H = fw.height = innerHeight }
        resize(); addEventListener("resize", resize);

        let rockets = [], sparks = [];
        function launch() {
            rockets.push({
                x: Math.random() * W,
                y: H,
                vy: -(5 + Math.random() * 3),
                c: `hsl(${330 + Math.random() * 30},100%,70%)`
            });
        }
        function explode(r) {
            for (let i = 0; i < 40; i++) {
                const a = Math.random() * Math.PI * 2;
                const s = Math.random() * 3 + 1;
                sparks.push({
                    x: r.x, y: r.y,
                    vx: Math.cos(a) * s,
                    vy: Math.sin(a) * s,
                    life: 40,
                    c: r.c
                });
            }
        }
        setInterval(launch, 1300);
        (function draw() {
            ctx.fillStyle = "rgba(0,0,0,.18)";
            ctx.fillRect(0, 0, W, H);

            rockets.forEach((r, i) => {
                r.y += r.vy;
                ctx.fillStyle = r.c;
                ctx.fillRect(r.x, r.y, 2, 6);
                if (r.y < H * 0.32) {
                    explode(r);
                    rockets.splice(i, 1);
                }
            });
            sparks.forEach((s, i) => {
                s.life--;
                s.x += s.vx;
                s.y += s.vy;
                ctx.fillStyle = s.c;
                ctx.fillRect(s.x, s.y, 2, 2);
                if (s.life <= 0) sparks.splice(i, 1);
            });
            requestAnimationFrame(draw);
        })();

        /* ===== PETALS ===== */
        let petalTimer = null;
        function startPetals() {
            petalTimer = setInterval(() => {
                const p = document.createElement("div");
                p.className = "petal";
                p.textContent = "üå∏";
                p.style.left = Math.random() * 100 + "%";
                p.style.animationDuration = (10 + Math.random() * 10) + "s";
                stage.appendChild(p);
                setTimeout(() => p.remove(), 20000);
            }, 2500);
        }

        /* ===== SUBTITLE + MUSIC ===== */
        const lines = [
            "2025 ƒë√£ khi·∫øn em m·ªát m·ªèi r·∫•t nhi·ªÅu.",
            "C√≥ nh·ªØng ng√†y em r∆°i n∆∞·ªõc m·∫Øt v√¨ nh·ªØng chuy·ªán kh√¥ng ƒë√°ng c√≥.",
            "C√≥ nh·ªØng c·ªë g·∫Øng ch·∫≥ng mang l·∫°i k·∫øt qu·∫£ t·ªët ƒë·∫πp n√†o.",
            "Anh bi·∫øt em ƒë√£ m·∫°nh m·∫Ω ƒë·∫øn th·∫ø n√†o khi v·∫´n ti·∫øp t·ª•c b∆∞·ªõc ƒëi.",
            "D√π trong l√≤ng kh√¥ng ph·∫£i l√∫c n√†o c≈©ng ·ªïn.",
            "Anh hy v·ªçng 2026 s·∫Ω l√† nh·ªØng h√†nh tr√¨nh m·ªõi m·∫ª h∆°n.",
            "Nh·∫π nh√†ng h∆°n.",
            "V√† d·ªãu d√†ng v·ªõi em h∆°n.",
            "V√† n·∫øu tr√™n nh·ªØng h√†nh tr√¨nh ·∫•y‚Ä¶",
            "Em c·∫ßn m·ªôt ng∆∞·ªùi ch·ªù ƒë·ª£i.",
            "M·ªôt ng∆∞·ªùi lu√¥n l·∫Øng nghe.",
            "M·ªôt ng∆∞·ªùi lu√¥n mu·ªën ƒë·ªìng h√†nh c√πng em.",
            "Anh v·∫´n ·ªü ƒë√¢y.",
            "Kh√¥ng v·ªôi v√†ng.",
            "Kh√¥ng √©p bu·ªôc.",
            "Ch·ªâ l√† v·∫´n ch·ªù ‚Äî khi em s·∫µn s√†ng.",
            "Anh y√™u em. ‚ù§Ô∏è"
        ];

        let line = 0, char = 0;
        const subtitle = document.getElementById("subtitle");
        const textEl = document.getElementById("text");
        const caret = document.getElementById("caret");
        const bgMusic = document.getElementById("musicBg");
        const finalMusic = document.getElementById("musicFinal");

        const TYPE = 48, HOLD = 1800, FADE = 900;

        function typeLine() {
            if (char < lines[line].length) {
                textEl.textContent += lines[line][char++];
                setTimeout(typeLine, TYPE);
            } else {
                if (line === lines.length - 1) {
                    caret.style.display = "none";
                    subtitle.classList.add("show");
                    bgMusic.pause();
                    setTimeout(() => {
                        finalMusic.volume = 0.7;
                        finalMusic.play().catch(() => { });
                    }, 3000);
                    return;
                }
                setTimeout(() => {
                    subtitle.classList.remove("show");
                    setTimeout(nextLine, FADE);
                }, HOLD);
            }
        }
        function nextLine() {
            line++; char = 0;
            textEl.textContent = "";
            subtitle.classList.add("show");
            typeLine();
        }

        /* ===== OPEN ===== */
        function openCard() {
            document.getElementById("popup").classList.add("active");
            fw.style.display = "none";
            startPetals();
            bgMusic.volume = 0.4;
            bgMusic.play().catch(() => { });
            line = 0; char = 0;
            textEl.textContent = "";
            caret.style.display = "inline-block";
            subtitle.classList.add("show");
            typeLine();
        }
    </script>

</body>

</html>