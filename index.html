<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy New Year 2026 ‚Äì Anh v·∫´n ch·ªù em</title>

    <style>
        :root {
            --pink: #ffd1dc;
            --pink2: #ff7aa8;
            --bg: #12070f;
            --text: #fff7fb;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            margin: 0;
            height: 100%;
            font-family: "Segoe UI", system-ui, sans-serif;
            background: radial-gradient(circle at top, var(--pink2), var(--bg));
            color: var(--text);
            overflow: hidden;
        }

        /* FIREWORKS */
        #fireworks {
            position: fixed;
            inset: 0;
            z-index: 0
        }

        /* TITLE */
        .title-fixed {
            position: fixed;
            top: 18px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 6;
            font-size: 36px;
            letter-spacing: 2px;
            font-weight: 700;
            color: #fff;
            text-shadow:
                0 0 12px rgba(255, 209, 220, .9),
                0 0 28px rgba(255, 122, 168, .7),
                0 0 60px rgba(255, 122, 168, .45);
            pointer-events: none;
        }

        /* COVER */
        .cover {
            position: relative;
            z-index: 2;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .cover-box {
            max-width: 460px;
            padding: 46px 38px;
            border-radius: 34px;
            background: rgba(255, 255, 255, .16);
            border: 1px solid rgba(255, 255, 255, .25);
            backdrop-filter: blur(18px);
            box-shadow: 0 30px 100px rgba(255, 122, 168, .45);
        }

        .cover p {
            opacity: .85;
            line-height: 1.8
        }

        .open-btn {
            margin-top: 28px;
            padding: 14px 32px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, .3);
            background: linear-gradient(180deg, #ff9cbc, #ff6f9f);
            color: #fff;
            font-weight: 600;
            cursor: pointer;
        }

        /* POPUP */
        .popup {
            position: fixed;
            inset: 0;
            background: rgba(18, 7, 15, .9);
            display: none;
            z-index: 5;
        }

        .popup.active {
            display: flex
        }

        /* STAGE */
        .stage {
            position: relative;
            margin: auto;
            width: 92%;
            max-width: 420px;
            aspect-ratio: 3/4;
            border-radius: 34px;
            overflow: hidden;
        }

        .stage img {
            width: 110%;
            height: 110%;
            object-fit: cover;
            transform: translate(-5%, -5%);
            animation: float 18s ease-in-out infinite alternate;
        }

        @keyframes float {
            from {
                transform: translate(-5%, -5%) scale(1)
            }

            to {
                transform: translate(-2%, -8%) scale(1.05)
            }
        }

        /* PETALS */
        .petal {
            position: absolute;
            top: -40px;
            font-size: 18px;
            opacity: .65;
            pointer-events: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(120vh) rotate(360deg)
            }
        }

        /* SUBTITLE */
        .subtitle {
            position: absolute;
            left: 50%;
            bottom: 10%;
            transform: translateX(-50%);
            max-width: 88%;
            padding: 14px 18px;
            border-radius: 18px;
            background: rgba(0, 0, 0, .55);
            backdrop-filter: blur(8px);
            font-size: 16px;
            line-height: 1.8;
            text-align: center;
            opacity: 0;
            filter: blur(6px);
            transition: .8s;
        }

        .subtitle.show {
            opacity: 1;
            filter: blur(0);
            transform: translateX(-50%) scale(1.02);
        }

        .caret {
            display: inline-block;
            width: 2px;
            height: 1em;
            background: #fff;
            margin-left: 4px;
            animation: blink 1s steps(1) infinite;
        }

        @keyframes blink {
            50% {
                opacity: 0
            }
        }

        audio {
            display: none
        }
    </style>
</head>

<body>

    <canvas id="fireworks"></canvas>
    <div class="title-fixed">HAPPY NEW YEAR 2026</div>

    <div class="cover">
        <div class="cover-box">
            <p>
                2025 c√≥ l·∫Ω ƒë√£ l√†m em m·ªát m·ªèi.<br>
                Anh mu·ªën n√≥i v√†i ƒëi·ªÅu‚Ä¶<br>
                theo c√°ch ch·∫≠m r√£i nh·∫•t.
            </p>
            <button class="open-btn" onclick="openCard()">M·ªü thi·ªáp üé¨</button>
        </div>
    </div>

    <div class="popup" id="popup">
        <div class="stage" id="stage">
            <img src="z7354421744919_031aac0efe54eace25a71493b5154129.jpg">
            <div class="subtitle" id="subtitle">
                <span id="text"></span><span class="caret" id="caret"></span>
            </div>
        </div>
    </div>

    <!-- üéµ AUDIO -->
    <audio id="musicBg" src="music-bg.mp3" loop></audio>
    <audio id="musicFinal" src="music-final.mp3"></audio>

    <script>
        /* PETALS */
        let petalTimer = null;
        function startPetals() {
            petalTimer = setInterval(() => {
                const p = document.createElement("div");
                p.className = "petal";
                p.textContent = "üå∏";
                p.style.left = Math.random() * 100 + "%";
                p.style.animationDuration = (10 + Math.random() * 10) + "s";
                stage.appendChild(p);
                setTimeout(() => p.remove(), 20000);
            }, 2500);
        }

        /* SUBTITLE + MUSIC CONTROL */
        const lines = [
            "2025 ƒë√£ khi·∫øn em m·ªát m·ªèi r·∫•t nhi·ªÅu.",
            "C√≥ nh·ªØng ng√†y em r∆°i n∆∞·ªõc m·∫Øt v√¨ nh·ªØng chuy·ªán kh√¥ng ƒë√°ng c√≥.",
            "C√≥ nh·ªØng c·ªë g·∫Øng ch·∫≥ng mang l·∫°i k·∫øt qu·∫£ t·ªët ƒë·∫πp n√†o.",
            "Anh bi·∫øt em ƒë√£ m·∫°nh m·∫Ω ƒë·∫øn th·∫ø n√†o khi v·∫´n ti·∫øp t·ª•c b∆∞·ªõc ƒëi.",
            "D√π trong l√≤ng kh√¥ng ph·∫£i l√∫c n√†o c≈©ng ·ªïn.",
            "Anh hy v·ªçng 2026 s·∫Ω l√† nh·ªØng h√†nh tr√¨nh m·ªõi m·∫ª h∆°n.",
            "Nh·∫π nh√†ng h∆°n.",
            "V√† d·ªãu d√†ng v·ªõi em h∆°n.",
            "V√† n·∫øu tr√™n nh·ªØng h√†nh tr√¨nh ·∫•y‚Ä¶",
            "Em c·∫ßn m·ªôt ng∆∞·ªùi ch·ªù ƒë·ª£i.",
            "M·ªôt ng∆∞·ªùi lu√¥n l·∫Øng nghe.",
            "M·ªôt ng∆∞·ªùi lu√¥n mu·ªën ƒë·ªìng h√†nh c√πng em.",
            "Anh v·∫´n ·ªü ƒë√¢y.",
            "Kh√¥ng v·ªôi v√†ng.",
            "Kh√¥ng √©p bu·ªôc.",
            "Ch·ªâ l√† v·∫´n ch·ªù ‚Äî khi em s·∫µn s√†ng.",
            "Anh y√™u em. ‚ù§Ô∏è"
        ];

        let line = 0, char = 0;
        const subtitle = document.getElementById("subtitle");
        const textEl = document.getElementById("text");
        const caret = document.getElementById("caret");
        const bgMusic = document.getElementById("musicBg");
        const finalMusic = document.getElementById("musicFinal");

        const TYPE = 48, HOLD = 1800, FADE = 900;

        function typeLine() {
            if (char < lines[line].length) {
                textEl.textContent += lines[line][char++];
                setTimeout(typeLine, TYPE);
            } else {
                if (line === lines.length - 1) {
                    caret.style.display = "none";
                    subtitle.classList.add("show");
                    bgMusic.pause();
                    setTimeout(() => {
                        finalMusic.volume = 0.7;
                        finalMusic.play().catch(() => { });
                    }, 3000);
                    return;
                }
                setTimeout(() => {
                    subtitle.classList.remove("show");
                    setTimeout(nextLine, FADE);
                }, HOLD);
            }
        }
        function nextLine() {
            line++; char = 0;
            textEl.textContent = "";
            subtitle.classList.add("show");
            typeLine();
        }

        /* OPEN */
        function openCard() {
            document.getElementById("popup").classList.add("active");
            startPetals();
            bgMusic.volume = 0.4;
            bgMusic.play().catch(() => { });
            line = 0; char = 0;
            textEl.textContent = "";
            caret.style.display = "inline-block";
            subtitle.classList.add("show");
            typeLine();
        }
    </script>

</body>

</html>